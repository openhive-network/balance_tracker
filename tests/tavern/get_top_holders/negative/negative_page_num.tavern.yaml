---
test_name: btracker PostgREST
marks:
  - patterntest
  - negative

includes:
  - !include ../../common.yaml

stages:
  - name: test
    request:
      url: "{service.proto:s}://{service.server:s}:{service.port}/rpc/get_top_holders"
      method: GET
      params:
        coin-type: HIVE
        balance-type: "balance"
        page: -1
    response:
      status_code: 400
      verify_response_with:
        function: validate_response:compare_rest_response_with_pattern
